<!-- <!DOCTYPE html>
<html>
<head>
    <title>‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</title>
    <style>
        body {
            background-image: linear-gradient(to right, #AACAEF, #FDE7F9);
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        h2 {
            text-align: center;
            font-size: 60px;
            color: black;
        }
        button {
            font-size: 50px;
            width: 1000px;
            height: 150px;
            background-color: #70A1FF;
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #98D9E1;
        }
        form {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        div {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 70vh;
        }
    </style>
</head>
<body>
    <h2>‡∏Å‡∏≥‡∏•‡∏±‡∏á{{ button_clicked }}</h2>
    <div>
        <form action="/stop" method="post">
            <button type="submit">‡∏´‡∏¢‡∏∏‡∏î</button>
        </form>
    </div>
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background-image: linear-gradient(to right, #AACAEF, #FDE7F9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        h1 {
            font-size: 50px;
            margin-bottom: 50px;
            color: white;
        }
        button {
            display: block;
            width: 300px;
            height: 80px;
            font-size: 25px;
            margin-bottom: 20px;
            background-color: #70A1FF;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        button:hover {
            background-color: #98D9E1;
        }
        #voiceBtn {
            background-color: #2ED573;
        }
    </style>
</head>
<body>
    <h1>Blind Blind</h1>
    <form id="actionForm" action="/submit" method="post">
        <button name="button" value="‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏" type="submit">‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏</button>
        <button name="button" value="‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°" type="submit">‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
        <button name="button" value="‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏µ" type="submit">‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏µ</button>
        <button name="button" value="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å" type="submit">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</button>
    </form>

    <button id="voiceBtn" onclick="startListening()">üéôÔ∏è ‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô</button>

    <script>
        function speak(text) {
            const msg = new SpeechSynthesisUtterance();
            msg.text = text;
            msg.lang = "th-TH";
            window.speechSynthesis.speak(msg);
        }

        function startListening() {
            speak("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏µ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å");

            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            recognition.lang = 'th-TH';
            recognition.start();

            recognition.onresult = function(event) {
                const speech = event.results[0][0].transcript;
                console.log("‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏ß‡πà‡∏≤:", speech);

                let value = null;
                if (speech.includes("‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏") || speech.includes("‡∏´‡∏ô‡∏∂‡πà‡∏á") || speech.includes("1")) {
                    value = "‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏";
                } else if (speech.includes("‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°") || speech.includes("‡∏™‡∏≠‡∏á") || speech.includes("2")) {
                    value = "‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°";
                } else if (speech.includes("‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏µ") || speech.includes("‡∏™‡∏≤‡∏°") || speech.includes("3")) {
                    value = "‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏µ";
                } else if (speech.includes("‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å") || speech.includes("‡∏™‡∏µ‡πà") || speech.includes("4")) {
                    value = "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å";
                }

                if (value) {
                    speak("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏ß‡∏î " + value);
                    const form = document.getElementById('actionForm');
                    const input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = 'button';
                    input.value = value;
                    form.appendChild(input);
                    setTimeout(() => form.submit(), 1500);  // ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏π‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤
                } else {
                    speak("‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏π‡∏î‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
                }
            };

            recognition.onerror = function(event) {
                speak("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á");
                console.error(event.error);
            };
        }
    </script>
</body>
</html>
